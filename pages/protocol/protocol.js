// pages/protocol/protocol.js
Page({
  data: {
    type: 'user', // 'user' | 'privacy'
    title: '',
    content: ''
  },

  onLoad(options) {
    const type = options.type || 'user'
    this.setData({ type })
    
    if (type === 'user') {
      wx.setNavigationBarTitle({
        title: '用户协议'
      })
      this.setData({
        title: '用户协议',
        content: this.getUserAgreement()
      })
    } else {
      wx.setNavigationBarTitle({
        title: '隐私政策'
      })
      this.setData({
        title: '隐私政策',
        content: this.getPrivacyPolicy()
      })
    }
  },

  // 获取用户协议内容
  getUserAgreement() {
    return `
# 用户协议

**生效日期：2024年1月1日**

欢迎使用宝贝闪卡乐园！本协议是您与我们之间关于使用本应用的法律协议。

## 1. 服务说明

宝贝闪卡乐园是一款专为儿童设计的教育类小程序，提供以下服务：
- 闪卡学习功能
- 学习进度记录
- 个性化学习推荐
- 家长监督功能

## 2. 用户权利与义务

### 2.1 用户权利
- 享受应用提供的各项服务
- 保护个人隐私信息的权利
- 对服务质量提出意见和建议的权利

### 2.2 用户义务
- 提供真实、准确的注册信息
- 妥善保管账号和密码
- 不得利用本应用从事违法违规活动
- 尊重其他用户的合法权益

## 3. 隐私保护

我们严格保护用户隐私，具体内容请参阅《隐私政策》。

## 4. 服务变更与终止

我们保留随时修改或终止服务的权利，但会提前通知用户。

## 5. 免责声明

在法律允许的范围内，我们对因使用本应用而产生的任何损失不承担责任。

## 6. 争议解决

因本协议产生的争议，双方应友好协商解决；协商不成的，提交有管辖权的人民法院解决。

## 7. 协议修改

我们有权随时修改本协议，修改后的协议将在应用内公布。

如有疑问，请联系我们：support@example.com

---

感谢您使用宝贝闪卡乐园！
    `
  },

  // 获取隐私政策内容
  getPrivacyPolicy() {
    return `
# 隐私政策

**生效日期：2024年1月1日**

我们非常重视您的隐私保护，本政策详细说明了我们如何收集、使用和保护您的个人信息。

## 1. 信息收集

### 1.1 我们收集的信息
- **账户信息**：手机号码、昵称等注册信息
- **使用信息**：学习记录、使用时长、功能使用情况
- **设备信息**：设备型号、操作系统版本、唯一设备标识符
- **位置信息**：仅在您明确授权时收集

### 1.2 信息收集方式
- 您主动提供的信息
- 自动收集的使用数据
- 第三方服务提供的信息（如微信登录）

## 2. 信息使用

我们使用收集的信息用于：
- 提供和改进服务
- 个性化学习推荐
- 账户安全保护
- 客户服务支持
- 法律法规要求

## 3. 信息共享

我们不会向第三方出售、出租或交易您的个人信息，除非：
- 获得您的明确同意
- 法律法规要求
- 保护用户或公众的合法权益

## 4. 信息安全

我们采取以下措施保护您的信息安全：
- 数据加密传输和存储
- 访问权限控制
- 定期安全审计
- 员工保密培训

## 5. 您的权利

您有权：
- 访问和更新个人信息
- 删除个人信息
- 撤回授权同意
- 投诉和举报

## 6. 儿童隐私保护

我们特别重视儿童隐私保护：
- 不会主动收集14岁以下儿童的个人信息
- 需要家长监护人同意
- 提供家长控制功能

## 7. Cookie和类似技术

我们使用Cookie等技术来：
- 记住您的偏好设置
- 分析使用情况
- 提供个性化服务

## 8. 政策更新

我们可能会更新本隐私政策，更新后会在应用内通知您。

## 9. 联系我们

如有隐私相关问题，请联系：
- 邮箱：privacy@example.com
- 电话：400-123-4567

---

我们承诺保护您的隐私权益！
    `
  }
})